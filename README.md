# SBET & BMNR mNAV 实时追踪系统 - Vercel版本

## 📋 项目概述

本项目是一个实时追踪 SBET 和 BMNR 两只股票 mNAV 数据的 Web 应用系统，专门为 Vercel 无服务器部署环境优化。系统支持手动更新股价和 ETH 价格，并计算相应的 mNAV 值。

### mNAV 计算公式
```
mNAV = 股价 × 股本数量 ÷ ETH持仓量 ÷ ETH价格
```

## 🚀 Vercel 部署特性

### 技术架构
- **无服务器框架**: 基于 Vercel Functions
- **数据存储**: 内存存储（无需数据库）
- **API 集成**: Finnhub API（股价）+ CoinGecko API（ETH价格）
- **前端**: HTML5 + CSS3 + JavaScript (ES6+)

### 部署优势
- ✅ 无需服务器维护
- ✅ 全球 CDN 加速
- ✅ 自动 HTTPS
- ✅ 零配置部署
- ✅ 按需扩容

## 🎯 主要功能

### 1. 实时数据监控
- **股价追踪**: 实时获取 SBET 和 BMNR 股价
- **ETH 价格**: 实时获取 ETH/USD 价格
- **mNAV 计算**: 自动计算并显示 mNAV 值
- **状态指示**: 实时显示各项数据的获取状态

### 2. 手动更新机制
- **按需更新**: 点击"手动更新"按钮获取最新数据
- **客户端刷新**: 每5分钟自动刷新界面显示
- **数据缓存**: 内存中缓存最近100条记录

### 3. 配置管理
- **股本数量**: 手动设置和更新股本数量
- **ETH持仓量**: 手动设置和更新 ETH 持仓量
- **实时保存**: 配置更改立即保存到内存

### 4. 用户界面特性
- **响应式设计**: 支持桌面和移动设备
- **实时状态**: 显示系统运行状态和最后更新时间
- **通知系统**: 操作成功/失败的即时反馈
- **现代化界面**: 美观的卡片式布局和动画效果

## 📊 界面说明

### 主要数据卡片
1. **SBET 卡片**
   - mNAV 值显示
   - 当前股价
   - 股本数量
   - ETH 持仓量

2. **BMNR 卡片**
   - mNAV 值显示
   - 当前股价
   - 股本数量
   - ETH 持仓量

3. **ETH 价格卡片**
   - 当前 ETH/USD 价格

### 配置区域
- **SBET 配置**: 设置股本数量和 ETH 持仓量
- **BMNR 配置**: 设置股本数量和 ETH 持仓量

## 🔧 技术架构

### 后端技术
- **Flask**: Web 框架
- **内存存储**: 替代传统数据库
- **Finnhub API**: 股价数据获取
- **CoinGecko API**: ETH 价格获取

### 前端技术
- **HTML5**: 页面结构
- **CSS3**: 样式和动画
- **JavaScript (ES6+)**: 交互逻辑
- **Font Awesome**: 图标库

### 数据源
- **Finnhub API**: 获取 SBET 和 BMNR 股价数据
- **CoinGecko API**: 获取 ETH 价格数据

## 📁 项目结构

```
sbet bmnr website_vercel/
├── app.py                 # Flask 主应用（Vercel优化版）
├── requirements.txt       # Python 依赖包
├── vercel.json           # Vercel 配置文件
├── .gitignore            # Git 忽略文件
├── README.md             # 项目说明
├── templates/
│   └── index.html        # 主页面模板
└── static/
    ├── css/
    │   └── style.css     # 样式文件
    └── js/
        └── main.js       # JavaScript 逻辑
```

## ⚙️ 默认配置

### 初始股票配置
```python
SBET: {
    'shares_outstanding': 129038060.0,  # 股本数量
    'eth_holdings': 521939.0            # ETH持仓量
}

BMNR: {
    'shares_outstanding': 121700000.0,  # 股本数量
    'eth_holdings': 833137.0            # ETH持仓量
}
```

### 数据更新方式
- **手动更新**: 点击"手动更新"按钮
- **界面刷新**: 每5分钟自动刷新显示
- **数据获取**: 按需从 API 获取最新数据

## 🚦 系统状态

### 状态指示器
- **🟢 在线**: 数据获取正常
- **🔵 加载中**: 正在获取数据
- **🔴 错误**: 数据获取失败

### 日志监控
- Vercel 函数日志可在 Vercel 控制台查看
- 包含价格获取、计算过程和错误信息

## 🛠️ 故障排除

### 常见问题

1. **无法获取股价数据**
   - 检查网络连接
   - 确认股票代码正确 (SBET, BMNR)
   - 检查 Finnhub API 是否正常

2. **ETH 价格获取失败**
   - 检查网络连接
   - CoinGecko API 可能暂时不可用

3. **配置更新失败**
   - 检查输入的数值是否有效
   - 确保数值大于0

4. **页面无法访问**
   - 检查 Vercel 部署状态
   - 查看 Vercel 函数日志

## 📈 数据说明

### 数据存储
- **内存存储**: 存储最近100条价格和mNAV记录
- **配置数据**: 存储在内存中，重启后恢复默认值
- **无持久化**: 适合无服务器环境特性

### 数据精度
- **股价**: 保留4位小数
- **ETH价格**: 保留2位小数
- **mNAV**: 保留6位小数

## 🔒 安全注意事项

- 本应用仅用于数据展示，不涉及交易功能
- 数据来源于公开的金融 API
- API 密钥已硬编码（仅供演示，生产环境建议使用环境变量）
- 适合公开访问，无敏感数据存储

## 🌐 部署信息

- **平台**: Vercel
- **运行时**: Python 3.9
- **函数类型**: 无服务器函数
- **CDN**: 全球分布
- **HTTPS**: 自动配置

---

**版权信息**: © 2024 mNAV 追踪系统 | 数据来源: Finnhub, CoinGecko | 部署在 Vercel 