# SBET & BMNR mNAV 实时追踪系统

一个实时追踪 SBET 和 BMNR 股票 mNAV（每枚 ETH 对应的净资产价值）的 Web 应用程序。

## 主要功能

### 🔄 实时数据追踪
- 实时获取 SBET 和 BMNR 股票价格（通过 Finnhub API）
- 实时获取 ETH 价格（通过 CoinGecko API）
- 自动计算 mNAV 值
- 支持手动刷新数据

### ⚙️ 配置管理（新增功能）
- **数据持久化保存**：用户输入的股本数量和ETH持仓量会自动保存到本地文件
- **独立保存按钮**：每个配置表单都有独立的保存按钮
- **重置功能**：可以一键重置为默认配置值
- **双重备份**：数据同时保存到服务器文件和浏览器本地存储
- **配置状态显示**：实时显示配置保存状态和最后保存时间

### 📊 数据展示
- 清晰的数据卡片布局
- 实时状态指示器
- 响应式设计，支持移动设备

## 技术架构

### 后端
- **Flask**：轻量级 Web 框架
- **持久化存储**：JSON 文件存储用户配置
- **API 集成**：Finnhub（股票价格）+ CoinGecko（ETH价格）
- **Vercel 部署**：支持无服务器环境

### 前端
- **原生 JavaScript**：无框架依赖
- **响应式 CSS**：现代化 UI 设计
- **本地存储**：浏览器 localStorage 作为配置备份
- **实时更新**：自动刷新和手动更新

## 部署说明

### Vercel 部署
1. 将代码推送到 GitHub 仓库
2. 在 Vercel 中连接仓库
3. 设置环境变量（如需要）
4. 自动部署

### 本地开发
```bash
# 安装依赖
pip install -r requirements.txt

# 启动应用
python app.py
```

## 使用说明

### 配置管理
1. **调整配置**：在配置面板中输入新的股本数量和ETH持仓量
2. **保存配置**：点击"保存配置"按钮，数据将自动保存到本地文件
3. **重置配置**：点击"重置"按钮可恢复默认配置值
4. **数据持久化**：配置数据会自动保存，刷新页面后仍然有效

### 数据查看
- 主界面实时显示当前 mNAV 值
- 状态栏显示系统状态和最后更新时间
- 手动更新按钮可立即刷新数据

## 配置数据格式

配置文件 `user_config.json` 结构：
```json
{
  "SBET": {
    "shares_outstanding": 129038060.0,
    "eth_holdings": 521939.0,
    "symbol": "SBET"
  },
  "BMNR": {
    "shares_outstanding": 121700000.0,
    "eth_holdings": 833137.0,
    "symbol": "BMNR"
  }
}
```

## API 端点

- `GET /`：主页面
- `GET /api/data`：获取最新数据
- `POST /api/update_config`：更新配置
- `POST /api/manual_update`：手动更新数据

## 更新日志

### v2.0.0 - 数据持久化版本
- ✅ 添加配置数据持久化保存功能
- ✅ 新增独立保存和重置按钮
- ✅ 实现双重备份（服务器文件 + 浏览器存储）
- ✅ 添加配置状态显示
- ✅ 改进用户界面和用户体验
- ✅ 支持配置重置到默认值

### v1.0.0 - 基础版本
- ✅ 实时数据追踪
- ✅ 基础配置管理
- ✅ Vercel 部署支持

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request！

---

**注意**：此应用需要有效的 Finnhub API 密钥才能获取股票价格数据。 