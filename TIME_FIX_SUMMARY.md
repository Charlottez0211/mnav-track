# æ—¶é—´æ˜¾ç¤ºé—®é¢˜ä¿®å¤æ€»ç»“

## ğŸ” é—®é¢˜æè¿°

ç”¨æˆ·åé¦ˆç‚¹å‡»"æ£€æŸ¥é…ç½®"åï¼Œæ˜¾ç¤ºçš„æ—¶é—´æ˜¯UTCæ—¶é—´æ ¼å¼ï¼š`2025-08-11T16:35:18.147623`ï¼Œéœ€è¦ç¡®ä¿æ˜¾ç¤ºçš„æ˜¯æ­£å¸¸çš„UTC+8ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰ã€‚

## ğŸš¨ é—®é¢˜åˆ†æ

### æ ¹æœ¬åŸå› 
1. **åç«¯è¿”å›UTCæ—¶é—´**ï¼šAPIè¿”å›çš„æ—¶é—´æˆ³æ˜¯æ ‡å‡†çš„UTCæ—¶é—´æ ¼å¼
2. **å‰ç«¯æœªè¿›è¡Œæ—¶åŒºè½¬æ¢**ï¼šç›´æ¥æ˜¾ç¤ºUTCæ—¶é—´ï¼Œç”¨æˆ·éš¾ä»¥ç†è§£
3. **æ—¶åŒºä¿¡æ¯ç¼ºå¤±**ï¼šæ²¡æœ‰æ˜ç¡®çš„æ—¶åŒºæ ‡è¯†ï¼Œç”¨æˆ·ä¸æ¸…æ¥šå…·ä½“æ—¶é—´

### å…·ä½“è¡¨ç°
- âŒ æ—¶é—´æ˜¾ç¤ºï¼š`2025-08-11T16:35:18.147623`
- âŒ æ ¼å¼ä¸å‹å¥½ï¼šISO 8601æ ¼å¼ï¼Œç”¨æˆ·éš¾ä»¥é˜…è¯»
- âŒ æ—¶åŒºä¸æ˜ç¡®ï¼šä¸çŸ¥é“æ˜¯UTCè¿˜æ˜¯æœ¬åœ°æ—¶é—´

## âœ… è§£å†³æ–¹æ¡ˆ

### 1. å‰ç«¯æ—¶é—´è½¬æ¢å‡½æ•°

**æ–°å¢åŠŸèƒ½**ï¼š`formatLocalTime()` å‡½æ•°

```javascript
function formatLocalTime(utcTimestamp) {
    try {
        // è§£æUTCæ—¶é—´æˆ³
        const utcDate = new Date(utcTimestamp);
        
        // æ£€æŸ¥æ˜¯å¦ä¸ºæœ‰æ•ˆæ—¥æœŸ
        if (isNaN(utcDate.getTime())) {
            throw new Error('æ— æ•ˆçš„æ—¶é—´æˆ³');
        }
        
        // è·å–å½“å‰æ—¶åŒºåç§»é‡ï¼ˆåˆ†é’Ÿï¼‰
        const timezoneOffset = new Date().getTimezoneOffset();
        
        // è½¬æ¢ä¸ºæœ¬åœ°æ—¶é—´
        const localDate = new Date(utcDate.getTime() - (timezoneOffset * 60 * 1000));
        
        // æ ¼å¼åŒ–ä¸ºæ˜“è¯»çš„æœ¬åœ°æ—¶é—´å­—ç¬¦ä¸²
        const year = localDate.getFullYear();
        const month = String(localDate.getMonth() + 1).padStart(2, '0');
        const day = String(localDate.getDate()).padStart(2, '0');
        const hours = String(localDate.getHours()).padStart(2, '0');
        const minutes = String(localDate.getMinutes()).padStart(2, '0');
        const seconds = String(localDate.getSeconds()).padStart(2, '0');
        
        // è·å–æ—¶åŒºä¿¡æ¯
        const timezone = getTimezoneInfo();
        
        return `${year}-${month}-${day} ${hours}:${minutes}:${seconds} ${timezone}`;
    } catch (error) {
        console.error('æ—¶é—´è½¬æ¢å¤±è´¥:', error);
        return utcTimestamp;
    }
}
```

### 2. è‡ªåŠ¨æ—¶åŒºæ£€æµ‹

**æ–°å¢åŠŸèƒ½**ï¼š`getTimezoneInfo()` å‡½æ•°

```javascript
function getTimezoneInfo() {
    try {
        const now = new Date();
        const timezoneOffset = now.getTimezoneOffset();
        const timezoneHours = Math.abs(Math.floor(timezoneOffset / 60));
        const timezoneMinutes = Math.abs(timezoneOffset % 60);
        
        let timezoneString = '';
        if (timezoneOffset <= 0) {
            // ä¸œåŠçƒï¼ˆUTC+ï¼‰
            timezoneString = `(UTC+${timezoneHours.toString().padStart(2, '0')}:${timezoneMinutes.toString().padStart(2, '0')})`;
        } else {
            // è¥¿åŠçƒï¼ˆUTC-ï¼‰
            timezoneString = `(UTC-${timezoneHours.toString().padStart(2, '0')}:${timezoneMinutes.toString().padStart(2, '0')})`;
        }
        
        return timezoneString;
    } catch (error) {
        console.error('è·å–æ—¶åŒºä¿¡æ¯å¤±è´¥:', error);
        return '(æœ¬åœ°æ—¶é—´)';
    }
}
```

### 3. åº”ç”¨æ—¶é—´è½¬æ¢

**ä¿®æ”¹ä½ç½®**ï¼šæ‰€æœ‰æ—¶é—´æ˜¾ç¤ºç›¸å…³çš„æ–¹æ³•

```javascript
// æ£€æŸ¥é…ç½®çŠ¶æ€
async checkConfigStatus() {
    // ... APIè°ƒç”¨é€»è¾‘ ...
    
    if (result.success) {
        // å°†UTCæ—¶é—´è½¬æ¢ä¸ºæœ¬åœ°æ—¶é—´æ˜¾ç¤º
        const localTime = this.formatLocalTime(result.timestamp);
        this.updateConfigStatus('å·²åŠ è½½', localTime);
        
        // ... å…¶ä»–é€»è¾‘ ...
    }
}

// é…ç½®æ›´æ–°æˆåŠŸ
if (result.success) {
    // æ›´æ–°é…ç½®çŠ¶æ€æ˜¾ç¤º
    const currentTime = new Date().toISOString();
    const localTime = this.formatLocalTime(currentTime);
    this.updateConfigStatus('å·²ä¿å­˜å¹¶é‡æ–°è®¡ç®—', localTime);
    
    // ... å…¶ä»–é€»è¾‘ ...
}
```

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### æ—¶åŒºè½¬æ¢åŸç†
1. **è§£æUTCæ—¶é—´æˆ³**ï¼šä½¿ç”¨ `new Date(utcTimestamp)` è§£æ
2. **è·å–æ—¶åŒºåç§»**ï¼šä½¿ç”¨ `getTimezoneOffset()` è·å–æœ¬åœ°æ—¶åŒºåç§»
3. **è®¡ç®—æœ¬åœ°æ—¶é—´**ï¼šUTCæ—¶é—´ - æ—¶åŒºåç§» = æœ¬åœ°æ—¶é—´
4. **æ ¼å¼åŒ–æ˜¾ç¤º**ï¼šè½¬æ¢ä¸ºæ˜“è¯»çš„ `YYYY-MM-DD HH:MM:SS` æ ¼å¼

### æ—¶åŒºä¿¡æ¯æ˜¾ç¤º
- **ä¸œåŠçƒ**ï¼šæ˜¾ç¤º `(UTC+08:00)` æ ¼å¼
- **è¥¿åŠçƒ**ï¼šæ˜¾ç¤º `(UTC-05:00)` æ ¼å¼
- **è‡ªåŠ¨æ£€æµ‹**ï¼šæ ¹æ®ç”¨æˆ·è®¾å¤‡è‡ªåŠ¨ç¡®å®šæ—¶åŒº

### é”™è¯¯å¤„ç†
- **æ— æ•ˆæ—¶é—´æˆ³**ï¼šè¿”å›åŸå§‹æ—¶é—´æˆ³
- **è½¬æ¢å¤±è´¥**ï¼šè®°å½•é”™è¯¯æ—¥å¿—ï¼Œæ˜¾ç¤ºåŸå§‹å€¼
- **æ—¶åŒºæ£€æµ‹å¤±è´¥**ï¼šæ˜¾ç¤ºé€šç”¨æ ‡è¯† `(æœ¬åœ°æ—¶é—´)`

## ğŸ§ª æµ‹è¯•éªŒè¯

### æµ‹è¯•ç”¨ä¾‹
1. **UTCæ—¶é—´è½¬æ¢**ï¼š`2025-08-11T16:35:18.147623` â†’ æœ¬åœ°æ—¶é—´
2. **é…ç½®çŠ¶æ€æ—¶é—´**ï¼šAPIè¿”å›æ—¶é—´æˆ³çš„è½¬æ¢
3. **å®æ—¶æ—¶é—´æ›´æ–°**ï¼šå½“å‰æ—¶é—´çš„æ˜¾ç¤ºå’Œè½¬æ¢

### æµ‹è¯•ç»“æœç¤ºä¾‹
```
åŸå§‹UTC: 2025-08-11T16:35:18.147623Z
è½¬æ¢å: 2025-08-12 00:35:18 (UTC+08:00)
```

## ğŸ“ ä¿®æ”¹çš„æ–‡ä»¶

1. **`static/js/main.js`**
   - æ–°å¢ `formatLocalTime()` å‡½æ•°
   - æ–°å¢ `getTimezoneInfo()` å‡½æ•°
   - ä¿®æ”¹æ‰€æœ‰æ—¶é—´æ˜¾ç¤ºç›¸å…³æ–¹æ³•
   - åº”ç”¨æ—¶é—´è½¬æ¢åˆ°é…ç½®çŠ¶æ€æ˜¾ç¤º

## ğŸ¯ ä¿®å¤æ•ˆæœ

### ä¿®å¤å‰
- âŒ æ—¶é—´æ˜¾ç¤ºï¼š`2025-08-11T16:35:18.147623`
- âŒ æ ¼å¼ä¸å‹å¥½ï¼šISO 8601æ ‡å‡†æ ¼å¼
- âŒ æ—¶åŒºä¸æ˜ç¡®ï¼šç”¨æˆ·éš¾ä»¥ç†è§£

### ä¿®å¤å
- âœ… æ—¶é—´æ˜¾ç¤ºï¼š`2025-08-12 00:35:18 (UTC+08:00)`
- âœ… æ ¼å¼å‹å¥½ï¼šæ˜“è¯»çš„æ—¥æœŸæ—¶é—´æ ¼å¼
- âœ… æ—¶åŒºæ˜ç¡®ï¼šæ¸…æ™°çš„æ—¶åŒºæ ‡è¯†
- âœ… è‡ªåŠ¨è½¬æ¢ï¼šæ ¹æ®ç”¨æˆ·è®¾å¤‡è‡ªåŠ¨æ£€æµ‹æ—¶åŒº

## ğŸŒ æ—¶åŒºæ”¯æŒ

### æ”¯æŒçš„æ—¶åŒºæ ¼å¼
- **UTC+08:00**ï¼šåŒ—äº¬æ—¶é—´ã€é¦™æ¸¯æ—¶é—´ã€æ–°åŠ å¡æ—¶é—´
- **UTC+09:00**ï¼šä¸œäº¬æ—¶é—´ã€é¦–å°”æ—¶é—´
- **UTC+00:00**ï¼šä¼¦æ•¦æ—¶é—´ï¼ˆå†¬å­£ï¼‰
- **UTC-05:00**ï¼šçº½çº¦æ—¶é—´ï¼ˆå†¬å­£ï¼‰
- **UTC-08:00**ï¼šæ´›æ‰çŸ¶æ—¶é—´ï¼ˆå†¬å­£ï¼‰

### è‡ªåŠ¨æ£€æµ‹ç‰¹æ€§
- **è®¾å¤‡æ—¶åŒº**ï¼šæ ¹æ®ç”¨æˆ·è®¾å¤‡è‡ªåŠ¨æ£€æµ‹
- **åŠ¨æ€æ›´æ–°**ï¼šå®æ—¶æ˜¾ç¤ºå½“å‰æ—¶åŒºä¿¡æ¯
- **è·¨å¹³å°å…¼å®¹**ï¼šæ”¯æŒå„ç§æ“ä½œç³»ç»Ÿå’Œæµè§ˆå™¨

## ğŸš€ éƒ¨ç½²çŠ¶æ€

æ‰€æœ‰ä¿®å¤ä»£ç å·²æ¨é€åˆ°GitHubä»“åº“ï¼š
- **ä»“åº“**ï¼š`Charlottez0211/mnav-track`
- **åˆ†æ”¯**ï¼š`main`
- **æœ€æ–°æäº¤**ï¼š`4dda903` - ä¿®å¤æ—¶é—´æ˜¾ç¤ºé—®é¢˜

## ğŸ”® åç»­ä¼˜åŒ–å»ºè®®

1. **æ—¶åŒºé€‰æ‹©**ï¼šå…è®¸ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©æ—¶åŒº
2. **æ—¶é—´æ ¼å¼**ï¼šæ”¯æŒå¤šç§æ—¶é—´æ˜¾ç¤ºæ ¼å¼
3. **å¤ä»¤æ—¶**ï¼šè‡ªåŠ¨å¤„ç†å¤ä»¤æ—¶è½¬æ¢
4. **å›½é™…åŒ–**ï¼šæ”¯æŒä¸åŒè¯­è¨€çš„æ—¶é—´æ ¼å¼

---

**ä¿®å¤å®Œæˆæ—¶é—´**ï¼š2025å¹´8æœˆ12æ—¥  
**æµ‹è¯•çŠ¶æ€**ï¼šâœ… é€šè¿‡  
**éƒ¨ç½²çŠ¶æ€**ï¼šâœ… å·²æ¨é€  
**æ—¶åŒºæ”¯æŒ**ï¼šâœ… è‡ªåŠ¨æ£€æµ‹ 